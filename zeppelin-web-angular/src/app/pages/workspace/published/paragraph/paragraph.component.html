<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div *ngIf="useReact" #reactContainer></div>
<div *ngIf="!useReact">
  <zeppelin-notebook-paragraph-dynamic-forms
    *ngIf="paragraph"
    [disable]="paragraph.status === 'RUNNING' || paragraph.status === 'PENDING'"
    [paramDefs]="paragraph.settings.params"
    [formDefs]="paragraph.settings.forms"
    [runOnChange]="paragraph.config.runOnSelectionChange"
    (formChange)="runParagraph()"
  ></zeppelin-notebook-paragraph-dynamic-forms>
  <ng-container *ngIf="paragraph">
    <zeppelin-notebook-paragraph-result
      *ngFor="let result of results; index as i; trackBy: trackByIndexFn"
      [id]="paragraph.id"
      [published]="true"
      [currentCol]="paragraph.config.colWidth"
      [config]="configs[i]"
      [result]="result"
    ></zeppelin-notebook-paragraph-result>
  </ng-container>
</div>
<!-- Code Preview Modal Template -->
<ng-template #codePreviewModal>
  <div class="code-preview-modal">
    <p>This paragraph contains the following code:</p>
    <pre class="code-preview-content">{{ previewCode }}</pre>
    <p>
      <strong>Would you like to execute this code?</strong>
    </p>
  </div>
</ng-template>
